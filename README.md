RawDisk
=======

A Python library for raw access to filesystems. Started it for educational purposes.

Filesystems Supported
---------------------
* NTFS

Download
--------

	$ git clone https://github.com/dariusbakunas/rawdisk.git

Documentation and usage
-----------------------

```python
from rawdisk import Reader
r = Reader()
r.load('sample_images/ntfs.vhd')
```

* List partitions:

```python
for part in r.partitions:
	print part
```

```console
Type: NTFS, Offset: 0x10000, Size: 1020M, MFT Table Offset: 0x15465000
```

* Hexdump contents of selected system MFT entry and then its attributes

```python
from rawdisk.filesystems.ntfs import *

ntfs_vol = NtfsVolume()
# Use offset from previous output
ntfs_vol.mount("sample_images/ntfs.vhd", 0x10000)
mft_entry = ntfs_vol.mft_table.get_system_entry(MFT_ENTRY_MFT)

mft_entry.hexdump()

for attr in mft_entry.attributes:
	print
	attr.hexdump()

ntfs_partition.unmount()
```

```console
00000000: 46 49 4C 45 30 00 03 00  EA 22 20 00 00 00 00 00  FILE0...." .....
00000010: 01 00 01 00 38 00 01 00  A0 01 00 00 00 04 00 00  ....8...........
00000020: 00 00 00 00 00 00 00 00  06 00 00 00 00 00 00 00  ................
00000030: 02 00 67 88 00 00 00 00  10 00 00 00 60 00 00 00  ..g.........`...
00000040: 00 00 18 00 00 00 00 00  48 00 00 00 18 00 00 00  ........H.......
00000050: 6C B1 67 D5 90 6C CF 01  6C B1 67 D5 90 6C CF 01  l.g..l..l.g..l..
00000060: 6C B1 67 D5 90 6C CF 01  6C B1 67 D5 90 6C CF 01  l.g..l..l.g..l..
00000070: 06 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  ................
00000080: 00 00 00 00 00 01 00 00  00 00 00 00 00 00 00 00  ................
00000090: 00 00 00 00 00 00 00 00  30 00 00 00 68 00 00 00  ........0...h...
000000A0: 00 00 18 00 00 00 03 00  4A 00 00 00 18 00 01 00  ........J.......
000000B0: 05 00 00 00 00 00 05 00  6C B1 67 D5 90 6C CF 01  ........l.g..l..
000000C0: 6C B1 67 D5 90 6C CF 01  6C B1 67 D5 90 6C CF 01  l.g..l..l.g..l..
000000D0: 6C B1 67 D5 90 6C CF 01  00 40 00 00 00 00 00 00  l.g..l...@......
000000E0: 00 40 00 00 00 00 00 00  06 00 00 00 00 00 00 00  .@..............
000000F0: 04 03 24 00 4D 00 46 00  54 00 00 00 00 00 00 00  ..$.M.F.T.......
00000100: 80 00 00 00 48 00 00 00  01 00 40 00 00 00 01 00  ....H.....@.....
00000110: 00 00 00 00 00 00 00 00  3F 00 00 00 00 00 00 00  ........?.......
00000120: 40 00 00 00 00 00 00 00  00 00 04 00 00 00 00 00  @...............
00000130: 00 00 04 00 00 00 00 00  00 00 04 00 00 00 00 00  ................
00000140: 31 40 55 54 01 00 30 B7  B0 00 00 00 50 00 00 00  1@UT..0.....P...
00000150: 01 00 40 00 00 00 05 00  00 00 00 00 00 00 00 00  ..@.............
00000160: 01 00 00 00 00 00 00 00  40 00 00 00 00 00 00 00  ........@.......
00000170: 00 20 00 00 00 00 00 00  08 10 00 00 00 00 00 00  . ..............
00000180: 08 10 00 00 00 00 00 00  31 01 54 54 01 21 01 DB  ........1.TT.!..
00000190: F8 00 01 00 00 A0 67 88  FF FF FF FF 00 00 00 00  ......g.........
000001A0: 00 00 04 00 00 00 00 00  31 40 55 54 01 00 30 B7  ........1@UT..0.
000001B0: B0 00 00 00 50 00 00 00  01 00 40 00 00 00 05 00  ....P.....@.....


00000000: 10 00 00 00 60 00 00 00  00 00 18 00 00 00 00 00  ....`...........
00000010: 48 00 00 00 18 00 00 00  6C B1 67 D5 90 6C CF 01  H.......l.g..l..
00000020: 6C B1 67 D5 90 6C CF 01  6C B1 67 D5 90 6C CF 01  l.g..l..l.g..l..
00000030: 6C B1 67 D5 90 6C CF 01  06 00 00 00 00 00 00 00  l.g..l..........
00000040: 00 00 00 00 00 00 00 00  00 00 00 00 00 01 00 00  ................
00000050: 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  ................

00000000: 30 00 00 00 68 00 00 00  00 00 18 00 00 00 03 00  0...h...........
00000010: 4A 00 00 00 18 00 01 00  05 00 00 00 00 00 05 00  J...............
00000020: 6C B1 67 D5 90 6C CF 01  6C B1 67 D5 90 6C CF 01  l.g..l..l.g..l..
00000030: 6C B1 67 D5 90 6C CF 01  6C B1 67 D5 90 6C CF 01  l.g..l..l.g..l..
00000040: 00 40 00 00 00 00 00 00  00 40 00 00 00 00 00 00  .@.......@......
00000050: 06 00 00 00 00 00 00 00  04 03 24 00 4D 00 46 00  ..........$.M.F.
00000060: 54 00 00 00 00 00 00 00                           T.......

00000000: 80 00 00 00 48 00 00 00  01 00 40 00 00 00 01 00  ....H.....@.....
00000010: 00 00 00 00 00 00 00 00  3F 00 00 00 00 00 00 00  ........?.......
00000020: 40 00 00 00 00 00 00 00  00 00 04 00 00 00 00 00  @...............
00000030: 00 00 04 00 00 00 00 00  00 00 04 00 00 00 00 00  ................
00000040: 31 40 55 54 01 00 30 B7                           1@UT..0.

00000000: B0 00 00 00 50 00 00 00  01 00 40 00 00 00 05 00  ....P.....@.....
00000010: 00 00 00 00 00 00 00 00  01 00 00 00 00 00 00 00  ................
00000020: 40 00 00 00 00 00 00 00  00 20 00 00 00 00 00 00  @........ ......
00000030: 08 10 00 00 00 00 00 00  08 10 00 00 00 00 00 00  ................
00000040: 31 01 54 54 01 21 01 DB  F8 00 01 00 00 A0 67 88  1.TT.!........g.

<...>
```

Installation
------------

To install RawDisk, simply run:

	$ python setup.py install

For system-wide installation, you may need to prefix the previous command with ``sudo``:

	$ sudo python setup.py install